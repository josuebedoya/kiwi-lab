---
import Partners from "@/components/organisms/home/partners.astro";
import LayoutPage from "@/layouts/layoutPage.astro";
import { getHomeData } from "@/server/services/getHomeData.ts";
import Banner from "@/components/organisms/home/banner.astro";
import BannerSomosKiwi from "@/components/organisms/home/bannerSomosKiwi.astro";
import Battles from "@/components/organisms/home/battles.astro";
import WhatMakesDifferents from "@/components/organisms/home/whatMakesDifferents.astro";
import Impact2 from "@/components/organisms/home/impact2.astro";
import OurImpactText from "@/components/organisms/home/ourImpactText.astro";
import Faq2 from "@/components/organisms/home/faq2.astro";
import Experience2 from "@/components/organisms/home/experienceTwo.astro";
import BannerBottom from "@/components/organisms/home/bannerBottom.astro";

// Data
const {
  main_hero_data,
  about_data,
  impact_data,
  partners_data,
  experience_data,
  SEO_data,
  faq_data,
  battles_data,
  make_differentials_data,
  real_impact_data,
  letswork_data,
  error,
} = await getHomeData([
  "main_hero",
  "about",
  "battles",
  "make_differentials",
  "real_impact",
  "impact",
  "partners",
  "experience",
  "faq",
  "letswork",
]);

if (error) {
  return Astro.redirect("/500");
}

const kiwiDATA = {
  title: about_data?.subtitle,
  summary: about_data?.summary2,
  img: about_data?.img,
  img2: about_data?.img2,
};

const ourImpactaData = {
  title: real_impact_data?.subtitle,
  summary: real_impact_data?.summary,
  btn: real_impact_data?.btn,
};

const experience_data2 = {
  title: experience_data?.subtitle,
  items: experience_data?.items,
  btn: experience_data?.btn,
};
---

<LayoutPage
  title={SEO_data?.title || "Inicio"}
  description={SEO_data?.description}
  keywords={SEO_data?.keywords}
  image={SEO_data?.image}
  className="home-page"
>
  <Banner {...main_hero_data} />
  <BannerSomosKiwi {...kiwiDATA} />
  <Battles {...battles_data} />
  <WhatMakesDifferents {...make_differentials_data} />
  <Impact2 {...impact_data} />
  <OurImpactText {...ourImpactaData} />
  <Partners {...partners_data} />
  <Experience2 {...experience_data2} />
  <Faq2 {...faq_data} />
  <BannerBottom {...letswork_data} />

  <style is:inline>
    h2,
    h1,
    h3,
    h4,
    h5,
    h6 {
      font-weight: 300 !important;
      span:not(.light) {
        font-weight: 700 !important;
      }
    }

    .footer-top {
      display: none;
    }

    .main-btn,
    footer input {
      border-radius: 50px !important;
    }

    .main-btn::after {
      content: none !important;
    }
    footer input {
      background: transparent !important;
      border: 1px solid #ddd;
    }

    footer .widget-title {
      font-weight: 600 !important;
    }

    footer a,
    footer {
      color: var(--heading) !important;
    }
    footer {
      color: var(--heading) !important;
      padding-top: 2vw;
    }

    .header-navigation:not(.sticky) .nav-link,
    .header-navigation:not(.sticky) .nav-link::before {
      color: #fff !important;
    }

    .header-navigation:not(.sticky) {
      border: 0 !important;
    }

    .header-navigation:not(.sticky) .nav-link,
    .header-navigation:not(.sticky) .nav-link::before {
      color: #fff !important;
    }

    .header-navigation:not(.sticky) .sub-menu .nav-link {
      color: var(--heading) !important;
    }
    .header-navigation:not(.sticky) .primary-menu {
      border-bottom: 0 !important;
    }

    .header-navigation:not(.sticky) .navbar-toggler span {
      background-color: #fff;
    }
  </style>
</LayoutPage>
