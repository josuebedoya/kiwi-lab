---
import TemplateBlog from "@/templates/templateBlog.astro";

// Config to filter post request
const query = Astro.url.searchParams.get("blog");
const tag = decodeURIComponent(Astro.url.searchParams.get("tag") ?? '');

const config = {
  limit: 5,
  page: query ? Number(query) : 1,
  ...(tag ? {
    filter: {
      keywords_seo: {
        _some: {
          _icontains: tag
        }
      }
    }
  } : {})
}

const heroData = {
  title: 'Blog',
}

const SEO = {
  title: 'Blog',
  description: 'Blog kiwi lab',
  keywords: ['blog', 'kiwi', 'nuevos blog']
};
---

<TemplateBlog
  config={config}
  SEO={SEO}
  heroData={heroData}
/>